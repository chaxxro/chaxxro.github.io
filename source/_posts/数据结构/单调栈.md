---
toc:
  enable: true
  number: false
  max_depth: 3
title: 单调栈
date: 2023-04-02 16:33:16
tags: 数据结构
categories: 数据结构
---

单调栈即满足单调性的栈结构

单调栈分为单调递增栈和单调递减栈，就是栈内元素是升序还是降序排列的，这也涉及到出栈的逻辑

单调递增栈表示从栈底到栈顶是递增的

单调递减栈表示从栈底到栈顶是递减的

```cpp
// 单调递增栈
stack<int> inc_stack;
void putincstack(int v) {
    while(!inc_stack.empty() && inc_stack.top() >= v) {
        inc_stack.pop();
    }
    inc_stack.push(v);
}

// 单调递减栈
stack<int> des_stack;
void putdesstack(int v) {
    while(!des_stack.empty() && des_stack.top() <= v) {
        des_stack.pop();
    }
    des_stack.push(v);
}
```

可以在 O(N) 的时间复杂度，找出每个数左右两边第一个大于或小于它的解

对于单调递减栈：

- 一个元素入栈后不破坏单调栈的单调性，那么栈顶元素就是待入栈元素在原数组位置左边第一个比自己大的元素

- 一个待入栈元素要入栈，导致一个元素出栈时，这个待入栈元素是该出栈元素右边第一个比自己大的元素

对于单调递增栈：

- 如果一个元素入栈后不破坏单调栈的单调性，那么栈顶元素就是待入栈元素在原数组位置左边第一个比自己小的元素

- 由于一个待入栈元素要入栈，导致一个元素出栈时，这个待入栈元素是该出栈元素右边第一个比自己小的元素