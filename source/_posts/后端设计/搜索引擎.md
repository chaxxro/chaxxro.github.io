---
toc:
  enable: true
  number: false
  max_depth: 3
title: 搜索引擎
date: 2023-08-02 17:29:15
tags: 后端设计
categories: 后端设计
---

## 文本分词

通过分词库将连续文本分隔为一串词素

## 倒排索引

以词素为key，文档 ID 有序列表为 value 的组织形式的数据

{% asset_img 01.png %}

## 倒排求交

求多条有序倒排链的相同文档 ID 的过程

文本分词与倒排索引的构建都是离线的过程，倒排求交是在线检索的过程

## 文档排序

文档排序按多个维度特征拟合后的得分进行排序，让相关度更高的结果优先触达用户

## 产品视角

搜索引擎根据用户输入的 Query，从一个百亿文档集合中，在尽可能短的耗时内选出来 4～6 条展示给用户

海量索引数据对应的是一个庞大复杂的离线数据处理系统，而集合从百亿到个位数，裁剪数十亿倍的背后对应的是一个高扇出的在线检索架构