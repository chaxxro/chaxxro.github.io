---
toc:
  enable: true
  number: false
  max_depth: 3
title: 回调
date: 2023-07-03 19:40:36
tags: 常见概念
categories: 常见概念
---

A 类事先注册某个函数 F 到 B 类，A 类在调用 B 类的 P 函数的时候，B 类反过来调用 A 类注册给它的 F 函数，这里的 F 函数就是回调函数

A 调用 B，B 反过来又调用 A，这种调用机制就叫作回调

回调可以分为同步回调和异步回调

- 同步回调指在函数返回之前执行回调函数

- 异步回调指的是在函数返回之后执行回调函数

从应用场景上来看，同步回调看起来更像模板模式，异步回调看起来更像观察者模式

从代码实现上来看，回调和模板模式完全不同。回调基于组合关系来实现，把一个对象传递给另一个对象，是一种对象之间的关系；模板模式基于继承关系来实现，子类重写父类的抽象方法，是一种类之间的关系