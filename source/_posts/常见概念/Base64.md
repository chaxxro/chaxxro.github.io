---
toc:
  enable: true
  number: false
  max_depth: 3
title: Base64
date: 2023-06-05 11:39:32
tags: 常见概念
categories: 编码格式
---

Base64 是一种用 64 个可打印字符来表示二进制数据的表示方法，其中的可打印字符包括 A-Z、a-z、0-9、+、\

它将 6 个 bit （2^6=64）映射到一个可打印字符，这样 3 个字节的二进制数据就变成了 4 个可打印字符

Base64 编码并不是为了减小内容体积，相反它反而增大了内容的大小，因为用 4 个字符替代 3 个字节，整体大小增加了三分之一

如果要编码的字节数不能被 3 整除，则会多出 1 个或 2 个字节，那么可以先使用 0 字节值在末尾补足，使其能够被 3 整除，然后再进行 Base64 的编码，在编码后的 Base64 文本后加上一个或两个 = 号，代表补足的字节数

## 为什么需要 Base64

1. 一个传输协议如果是基于 ASCII 文本的，那么它就不能传输二进制流，如果要传输二进制流就得编码。常见的诸如 http 协议的 url 就是纯文本的，不能直接放二进制流

2. 在一些硬件或软件上，某些二进制值表示的意义不一样，做的处理也不一样，这就导致那些不兼容的二进制值被错误处理，所以就先把传输数据做一个 Base64 编码，统统变成可见字符，这样出错的可能性就大大降低了

## Base64URL

Base64 有三个字符 +、/ 和 = 在 URL 里面有特殊含义，所以在 Base64URL 中被替换掉，其中 = 被省略、+ 替换成 -，/ 替换成 _