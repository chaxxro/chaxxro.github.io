---
toc:
  enable: true
  number: false
  max_depth: 3
title: 内置编译类型
date: 2023-04-19 19:47:31
tags: cmake
categories: cmake
---

CMake 有多种预置的编译类型

- `Release` 对应 `-O3 -DNDEBUG`

- `Debug` 对应 `-g`

- `MinSizeRel` 对应 `-Os -DNDEBUG`

- `RelWithDebInfo` 对应 `-O2 -g -DNDEBUG`

可以通过 `cmake .. -DCMAKE_BUILD_TYPE=Release` 来设置编译类型

CMake 默认不使用任何的编译参数，但可以设置默认的编译类型

```cmake
if(NOT CMAKE_BUILD_TYPE AND NOT CMAKE_CONFIGURATION_TYPES)
  message("Setting build type to 'RelWithDebInfo' as none was specified.")
  set(CMAKE_BUILD_TYPE RelWithDebInfo CACHE STRING "Choose the type of build." FORCE)
  # Set the possible values of build type for cmake-gui
  set_property(CACHE CMAKE_BUILD_TYPE PROPERTY STRINGS "Debug" "Release" "MinSizeRel" "RelWithDebInfo")
endif()
```